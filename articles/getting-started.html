<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="metricminer">
<title>getting-started • metricminer</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="getting-started">
<meta property="og:description" content="metricminer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-951TGMSPH7"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-951TGMSPH7');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">metricminer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/example-data.html">example-data</a>
    <a class="dropdown-item" href="../articles/getting-started.html">getting-started</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/fhdsl/metricminer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>getting-started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/fhdsl/metricminer/blob/HEAD/vignettes/getting-started.Rmd" class="external-link"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="d-none name"><code>getting-started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="metricminer">metricminer<a class="anchor" aria-label="anchor" href="#metricminer"></a>
</h2>
<p><code>metricminer</code> is an R package that helps you mine metrics
on common places on the web through the power of their APIs.</p>
<p>It also helps make the data in a format that is easily used for a
dashboard or other purposes. It will have an associated dashboard
template and tutorials to help you fully use the data you retrieve with
<code>metricminer</code> (but these are still under development!)</p>
<p>You can <a href="https://hutchdatascience.org/metricminer/" class="external-link">read the
metricminer package documentation here</a>.</p>
<div class="section level3">
<h3 id="apps-supported">Apps supported<a class="anchor" aria-label="anchor" href="#apps-supported"></a>
</h3>
<p>Currently <code>metricminer</code> supports mining data from:</p>
<ul>
<li><a href="https://calendly.com/" class="external-link">Calendly</a></li>
<li><a href="https://github.com/" class="external-link">GitHub</a></li>
<li><a href="https://analytics.google.com/analytics/academy/course/6" class="external-link">Google
Analytics</a></li>
<li><a href="https://www.google.com/forms/about/" class="external-link">Google Forms</a></li>
<li>
<a href="https://admin.sli.do/events" class="external-link">Slido</a> export files stored
on Googledrive</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-format-options">Data format options<a class="anchor" aria-label="anchor" href="#data-format-options"></a>
</h3>
<p><code>metricminer</code> attempts to retrieve API data for you and
give you it to you in a format that is a tidy data.frame. this means
metricminer has to be opinionated about what metrics it returns so it
fits in a useful and human ready to read data frame.</p>
<p>If you find that the data returned is not what you need you have two
options (these options can be pursued concurrently):</p>
<ol style="list-style-type: decimal">
<li>You can set the <code>dataformat</code> argument to
<code>"raw"</code> to see the original, unedited JSON formatted data as
it was returned from the API. Then you can personally look for the data
that you want and extract it.</li>
<li>You can post a GitHub issue to explain why the metric missing from
the data frame formatted data should be included. And if possible and
reasonable, we can work on including that data in the next version of
<code>metricminer</code>.</li>
</ol>
</div>
<div class="section level3">
<h3 id="how-to-install">How to install<a class="anchor" aria-label="anchor" href="#how-to-install"></a>
</h3>
<p>If you want the development version (not advised) you can install
using the <code>remotes</code> package to install from GitHub.</p>
<pre><code><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="st">"remotes"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"fhdsl/metricminer"</span><span class="op">)</span></span></code></pre>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/fhdsl/metricminer" class="external-link">metricminer</a></span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h3>
<p>To start, you need to <code><a href="../reference/authorize.html">authorize()</a></code> the package to access
your data. If you run <code><a href="../reference/authorize.html">authorize()</a></code> you will be asked which
app you’d like to authorize and whether you’d like to cache that auth
information. If you already know which app you’d like to authorize, like
<code>google</code> for example, you can run
<code>authorize("google")</code>.</p>
<p>Then follow the instructions on the upcoming screens and select the
scopes you feel comfortable sharing (you generally just need read
permissions for metricminer to be able to collect data).</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>If you want to clear out authorizations and caches stored by
<code>metricminer</code> you can run:</p>
<pre><code><span><span class="fu"><a href="../reference/delete_creds.html">delete_creds</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<div class="section level4">
<h4 id="github">GitHub<a class="anchor" aria-label="anchor" href="#github"></a>
</h4>
<p>You can retrieve metrics from a repository on GitHub doing this:</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"github"</span><span class="op">)</span></span>
<span><span class="va">metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_github_repo_summary.html">get_github_repo_summary</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"fhdsl/metricminer"</span><span class="op">)</span></span></code></pre>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"github"</span><span class="op">)</span></span>
<span><span class="va">metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_github_repo_timecourse.html">get_github_repo_timecourse</a></span><span class="op">(</span>repo <span class="op">=</span> <span class="st">"fhdsl/metricminer"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="calendly">Calendly<a class="anchor" aria-label="anchor" href="#calendly"></a>
</h4>
<p>You can retrieve calendly events information using this type of
workflow:</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"calendly"</span><span class="op">)</span></span>
<span><span class="va">user</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_calendly_user.html">get_calendly_user</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">events</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_calendly_events.html">list_calendly_events</a></span><span class="op">(</span>user <span class="op">=</span> <span class="va">user</span><span class="op">$</span><span class="va">resource</span><span class="op">$</span><span class="va">uri</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="google-analytics">Google Analytics<a class="anchor" aria-label="anchor" href="#google-analytics"></a>
</h4>
<p>You can retrieve Google Analytics data for websites like this.</p>
<p>First you have to retrieve your account information after you’ve
authorized.</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"google"</span><span class="op">)</span></span>
<span><span class="va">accounts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ga_user.html">get_ga_user</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Then you need to retrieve the properties (aka usually the websites
you are tracking) underneath that account.</p>
<pre><code><span><span class="va">properties_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ga_properties.html">get_ga_properties</a></span><span class="op">(</span>account_id <span class="op">=</span> <span class="va">accounts</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre>
<p>Just need to shave off the <code>properties/</code> bit from this
string.</p>
<pre><code><span><span class="va">property_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"properties/"</span>, <span class="st">""</span>, <span class="va">properties_list</span><span class="op">$</span><span class="va">properties</span><span class="op">$</span><span class="va">name</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre>
<p>Now we can collect some stats.</p>
<p>In Google Analytics <code>metrics</code> are your basic numbers (how
many visits to your website, etc.).</p>
<pre><code><span><span class="va">metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ga_stats.html">get_ga_stats</a></span><span class="op">(</span><span class="va">property_id</span>, stats_type <span class="op">=</span> <span class="st">"metrics"</span><span class="op">)</span></span></code></pre>
<p>Whereas <code>dimensions</code> are more a list of events that have
happened. So here’s a list of people that have logged on.</p>
<pre><code><span><span class="va">dimensions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ga_stats.html">get_ga_stats</a></span><span class="op">(</span><span class="va">property_id</span>, stats_type <span class="op">=</span> <span class="st">"dimensions"</span><span class="op">)</span></span></code></pre>
<p>Lastly, we have a third option of collecting <code>link_clicks</code>
and the links they have clicked. This is also known as a dimension
according to Google analytics, but often it isn’t compatible for us to
download link click data at the same time as other dimension data so in
<code>metricminer</code> we collect them separately.</p>
<pre><code><span><span class="va">link_clicks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ga_stats.html">get_ga_stats</a></span><span class="op">(</span><span class="va">property_id</span>, stats_type <span class="op">=</span> <span class="st">"link_clicks"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="google-forms">Google Forms<a class="anchor" aria-label="anchor" href="#google-forms"></a>
</h4>
<p>You can retrieve Google form information and responses like this:</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"google"</span><span class="op">)</span></span>
<span><span class="va">form_url</span> <span class="op">&lt;-</span> <span class="st">"https://docs.google.com/forms/d/1Z-lMMdUyubUqIvaSXeDu1tlB7_QpNTzOk3kfzjP2Uuo/edit"</span></span>
<span><span class="va">form_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_google_form.html">get_google_form</a></span><span class="op">(</span><span class="va">form_url</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="slido">Slido<a class="anchor" aria-label="anchor" href="#slido"></a>
</h4>
<p>If you have used Slido for interactive slide sessions and collected
that info and exported it to your googledrive you can use
<code>metricminer</code> to collect that data as well.</p>
<pre><code><span><span class="va">drive_id</span> <span class="op">&lt;-</span> <span class="st">"https://drive.google.com/drive/folders/0AJb5Zemj0AAkUk9PVA"</span></span>
<span><span class="va">slido_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_slido_files.html">get_slido_files</a></span><span class="op">(</span><span class="va">drive_id</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="youtube">Youtube<a class="anchor" aria-label="anchor" href="#youtube"></a>
</h4>
<p>If you have a channel and the URL is <a href="https://www.youtube.com/channel/a_bunch_of_letters_here" class="external-link uri">https://www.youtube.com/channel/a_bunch_of_letters_here</a></p>
<p>Then you can extract stats for the videos on that youtube channel
using that URL.</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"google"</span><span class="op">)</span></span>
<span><span class="va">youtube_stats</span> <span class="op">&lt;-</span> <span class="fu">get_get_youtube_stats</span><span class="op">(</span><span class="st">"a_bunch_of_letters_here"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="bulk-retrievals">Bulk Retrievals<a class="anchor" aria-label="anchor" href="#bulk-retrievals"></a>
</h3>
<p>Maybe you just want to retrieval it ALL. We have som wrapper
functions that will attempt to do this for you. These functions are a
bit more precarious/risky in that there may be reasons certain
websites/repos/events/data may not be able to be collected. So
collecting repositories one by one will allow you more insight into what
is happening.</p>
<p>However, these bulk retrieval functions may help you if you want to
grab ALL of your accounts data in one swoop. Just make sure to carefully
look over and curate that data after it is attempted to be collected.
You may find some retrievals are empty for potentially good reasons (for
example if a google form has no responses to collect it will show up
with “no responses” in the respective part of the list).</p>
<div class="section level4">
<h4 id="github-bulk">GitHub bulk<a class="anchor" aria-label="anchor" href="#github-bulk"></a>
</h4>
<p>From GitHub you can attempt to collect repository metrics from all
repositories from an account.</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"github"</span><span class="op">)</span></span></code></pre>
<p>If you want to do this by giving a list of specific repositories you
want data from you can just provide a vector of those repository’s names
like this:</p>
<pre><code><span><span class="va">repo_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fhdsl/metricminer"</span>, <span class="st">"jhudsl/OTTR_Template"</span><span class="op">)</span></span>
<span><span class="va">some_repos_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_multiple_repos_metrics.html">get_multiple_repos_metrics</a></span><span class="op">(</span>repo_names <span class="op">=</span> <span class="va">repo_names</span><span class="op">)</span></span></code></pre>
<p>If you want the time course related data, you can set
<code>time_course = TRUE</code>.</p>
<pre><code><span><span class="va">some_repos_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_multiple_repos_metrics.html">get_multiple_repos_metrics</a></span><span class="op">(</span>repo_names <span class="op">=</span> <span class="va">repo_names</span>, time_course <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="google-analytics-bulk">Google Analytics bulk<a class="anchor" aria-label="anchor" href="#google-analytics-bulk"></a>
</h4>
<p>Similar to single website retrieval we need to authorize the
package.</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"google"</span><span class="op">)</span></span>
<span><span class="va">accounts</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ga_user.html">get_ga_user</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Then we can provide the account id to <code>all_ga_metrics</code> and
it will attempt to grab all stats for all website properties underneath
the provided account.</p>
<pre><code><span><span class="va">stats_list</span> <span class="op">&lt;-</span> <span class="fu">all_ga_metrics</span><span class="op">(</span>account_id <span class="op">=</span> <span class="va">accounts</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="google-forms-bulk">Google Forms bulk<a class="anchor" aria-label="anchor" href="#google-forms-bulk"></a>
</h4>
<p>As always, we need to authorize the app.</p>
<pre><code><span><span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"google"</span><span class="op">)</span></span></code></pre>
<p>We can retrieve a list of form ids using <code>googledrive</code> R
package.</p>
<pre><code><span><span class="va">form_list</span> <span class="op">&lt;-</span> <span class="fu">googledrive</span><span class="fu">::</span><span class="fu"><a href="https://googledrive.tidyverse.org/reference/drive_find.html" class="external-link">drive_find</a></span><span class="op">(</span></span>
<span>  shared_drive <span class="op">=</span> <span class="fu">googledrive</span><span class="fu">::</span><span class="fu"><a href="https://googledrive.tidyverse.org/reference/drive_id.html" class="external-link">as_id</a></span><span class="op">(</span><span class="st">"0AJb5Zemj0AAkUk9PVA"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"form"</span><span class="op">)</span></span></code></pre>
<p>Now we can provide this vector of form ids to
<code>get_multiple_forms</code></p>
<pre><code><span><span class="va">multiple_forms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_multiple_forms.html">get_multiple_forms</a></span><span class="op">(</span>form_ids <span class="op">=</span> <span class="va">form_list</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="non-interactive-authorizing-from-secrets">Non-interactive authorizing from secrets<a class="anchor" aria-label="anchor" href="#non-interactive-authorizing-from-secrets"></a>
</h3>
<p>If you’d like to authorize non-interactively (whether on GitHub
actions or locally) you can set your tokens using
<code><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv()</a></code></p>
<div class="section level4">
<h4 id="setting-calendly-auth-from-secret">Setting Calendly auth from secret<a class="anchor" aria-label="anchor" href="#setting-calendly-auth-from-secret"></a>
</h4>
<p>You can <a href="https://calendly.com/integrations/api_webhooks" class="external-link">go
here to get an API key</a>. You likely will have to login first.</p>
<p>Then you can store this by putting your API key in this type of
command:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>METRICMINER_CALENDLY <span class="op">=</span> <span class="st">"Put calendly token here"</span><span class="op">)</span></span></code></pre>
<p>Now in your script if you run the following, you will have
authorization to Calendly.</p>
<pre><code><span><span class="fu"><a href="../reference/auth_from_secret.html">auth_from_secret</a></span><span class="op">(</span><span class="st">"calendly"</span>, token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"METRICMINER_CALENDLY"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="setting-github-auth-from-secret">Setting GitHub auth from secret<a class="anchor" aria-label="anchor" href="#setting-github-auth-from-secret"></a>
</h4>
<p>Similar steps can be done for the GitHub personal access token.</p>
<p>First <a href="https://github.com/settings/tokens/new?description=metricminer&amp;scopes=repo,read:packages,read:org" class="external-link">go
here to get a GitHub PAT</a>. You will likely have to login first.</p>
<p>Then you can run this command but put your GitHub PAT there.</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>METRICMINER_GITHUB_PAT <span class="op">=</span> <span class="st">"Put GitHub PAT here"</span><span class="op">)</span></span></code></pre>
<p>Now in your script if you run the following, you will have
authorization to GitHub.</p>
<pre><code><span><span class="co"># Authorize GitHub</span></span>
<span><span class="fu"><a href="../reference/auth_from_secret.html">auth_from_secret</a></span><span class="op">(</span><span class="st">"github"</span>, token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"METRICMINER_GITHUB_PAT"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="setting-google-auth-from-secret">Setting Google auth from secret<a class="anchor" aria-label="anchor" href="#setting-google-auth-from-secret"></a>
</h4>
<p>For Google you can authorize from secret by doing the normal
interactive way using <code>authorize("google")</code> but storing the
result like this:</p>
<pre><code><span><span class="va">token</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/authorize.html">authorize</a></span><span class="op">(</span><span class="st">"google"</span><span class="op">)</span></span></code></pre>
<p>Then you can use this object to extract two secrets by printing them
out like this:</p>
<p><code>token$credentials$access_token</code>
<code>token$credentials$refresh_token</code></p>
<p>Then you can set these in your environment doing the same steps as
before:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>METRICMINER_GOOGLE_ACCESS <span class="op">=</span> <span class="st">"Google access token here"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>METRICMINER_GOOGLE_REFRESH <span class="op">=</span> <span class="st">"Google refresh token here"</span><span class="op">)</span></span></code></pre>
<p>Now in your script if you run the following you will have
authorization to Google Apps.</p>
<pre><code><span><span class="co"># Authorize Google</span></span>
<span><span class="fu"><a href="../reference/auth_from_secret.html">auth_from_secret</a></span><span class="op">(</span><span class="st">"google"</span>,</span>
<span>                 refresh_token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"METRICMINER_GOOGLE_REFRESH"</span><span class="op">)</span>,</span>
<span>                 access_token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"METRICMINER_GOOGLE_ACCESS"</span><span class="op">)</span>,</span>
<span>                 cache <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="authorizing-on-github-actions">Authorizing on GitHub Actions<a class="anchor" aria-label="anchor" href="#authorizing-on-github-actions"></a>
</h3>
<p>In GitHub you can run <code>metricminer</code> using authorization if
you use the above steps to retrieve the necessary keys but then store
them each as GitHub Secrets.</p>
<p><a href="https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-a-repository" class="external-link">Read
here about how to store GitHub secrets</a></p>
<p>You’ll need the secrets to be stored as the respective key name we’ve
referenced above:</p>
<pre><code><span><span class="va">METRICMINER_CALENDLY</span></span>
<span><span class="va">METRICMINER_GITHUB_PAT</span></span>
<span><span class="va">METRICMINER_GOOGLE_REFRESH</span></span>
<span><span class="va">METRICMINER_GOOGLE_ACCESS</span></span></code></pre>
<p>Then in your GitHub action yaml you’ll need something like this to
extract and authorize these secrets in the environment.</p>
<pre><code>      - name: Authorize metricminer
        env:
          METRICMINER_CALENDLY: ${{ secrets.METRICMINER_CALENDLY }}
          METRICMINER_GITHUB_PAT: ${{ secrets.METRICMINER_GITHUB_PAT }}
          METRICMINER_GOOGLE_ACCESS: ${{ secrets.METRICMINER_GOOGLE_ACCESS }}
          METRICMINER_GOOGLE_REFRESH: ${{ secrets.METRICMINER_GOOGLE_REFRESH }}
        run: |
          # Authorize Calendly
          auth_from_secret("calendly", token = Sys.getenv("METRICMINER_CALENDLY"))

          # Authorize GitHub
          auth_from_secret("github", token = Sys.getenv("METRICMINER_GITHUB_PAT"))

          # Authorize Google
          auth_from_secret("google",
                 refresh_token = Sys.getenv("METRICMINER_GOOGLE_REFRESH"),
                 access_token = Sys.getenv("METRICMINER_GOOGLE_ACCESS"),
                 cache = TRUE
          )

          ### Now run the R commands you want here or call an R script in a later step.
        shell: Rscript {0}
</code></pre>
<div class="section level4">
<h4 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h4>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.3.2 (2023-10-31)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 22.04.3 LTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">#&gt;  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">#&gt; [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: UTC</span></span>
<span><span class="co">#&gt; tzcode source: system (glibc)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] vctrs_0.6.5       cli_3.6.2         knitr_1.45        rlang_1.1.3      </span></span>
<span><span class="co">#&gt;  [5] xfun_0.42         stringi_1.8.3     purrr_1.0.2       textshaping_0.3.7</span></span>
<span><span class="co">#&gt;  [9] jsonlite_1.8.8    glue_1.7.0        htmltools_0.5.7   ragg_1.2.7       </span></span>
<span><span class="co">#&gt; [13] sass_0.4.8        rmarkdown_2.25    evaluate_0.23     jquerylib_0.1.4  </span></span>
<span><span class="co">#&gt; [17] fastmap_1.1.1     yaml_2.3.8        lifecycle_1.0.4   memoise_2.0.1    </span></span>
<span><span class="co">#&gt; [21] stringr_1.5.1     compiler_4.3.2    fs_1.6.3          systemfonts_1.0.5</span></span>
<span><span class="co">#&gt; [25] digest_0.6.34     R6_2.5.1          magrittr_2.0.3    bslib_0.6.1      </span></span>
<span><span class="co">#&gt; [29] tools_4.3.2       pkgdown_2.0.7     cachem_1.0.8      desc_1.4.3</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Candace Savonen, Howard Baek.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
